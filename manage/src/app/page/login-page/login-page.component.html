<div nz-row>
  <div nz-col [nzSpan]="5" [nzOffset]="10" class="login-box">
    <p class="title">请登录</p>
    <form nz-form class="login-form">
      <nz-form-item>
        <nz-input-group [nzPrefix]="prefixUser">
          <input type="text" nz-input placeholder="请输入账号" [(ngModel)]="account" name="account"/>
        </nz-input-group>
      </nz-form-item>

      <nz-form-item>
        <nz-input-group [nzPrefix]="prefixLock">
          <input type="password" nz-input placeholder="请输入密码" [(ngModel)]="password" name="password">
        </nz-input-group>
      </nz-form-item>

      <nz-form-item>
        <nz-input-group [nzPrefix]="prefixCaptcha">
          <input type="text" nz-input placeholder="请输入验证码" class="captcha-input" [(ngModel)]="captchaCode" name="captchaCode">
          <img src="/blog/v1/captcha" title="验证码" alt="验证码" class="captcha"
               onclick="this.src='/blog/v1/captcha?d=' + new Date() * 1">
        </nz-input-group>
      </nz-form-item>

      <nz-form-item>
        <label nz-checkbox>
          <span>记住我</span>
        </label>
        <a class="login-form-forgot" class="login-form-forgot">忘记密码？</a>
      </nz-form-item>

      <nz-form-item>
        <button nz-button class="login-form-button" [nzType]="'primary'" (click)="login()">登 录</button>
      </nz-form-item>
    </form>

    <ng-template #prefixUser><i nz-icon type="user"></i></ng-template>
    <ng-template #prefixLock><i nz-icon type="lock"></i></ng-template>
    <ng-template #prefixCaptcha><i nz-icon type="check-circle" theme="outline"></i></ng-template>
  </div>

  <nz-modal [(nzVisible)]="confirmVisible" nzTitle="异地登录确认" [nzContent]="modalContent" [nzFooter]="modalFooter" (nzOnCancel)="cancel()">

    <ng-template #modalContent>
      <p>将向手机<strong>{{phone}}</strong>发送验证码</p>
    </ng-template>

    <ng-template #modalFooter>
      <button nz-button nzType="default" (click)="cancel()">取消</button>
      <button nz-button nzType="primary" (click)="getCaptcha()" [nzLoading]="getCaptchaLoading">获取验证码</button>
    </ng-template>
  </nz-modal>

  <nz-modal [(nzVisible)]="captchaVisible" nzTitle="请输入验证码" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <form class="login-form">
      <nz-form-item>
        <nz-input-group>
          <input type="text" nz-input [(ngModel)]="phoneCaptchaCode" name="phoneCaptchaCode" placeholder="请输入验证码" required="required">
        </nz-input-group>
      </nz-form-item>
    </form>
  </nz-modal>

</div>
